# インライン関数

## ４.６.１ヘッダーファイルに定義された関数のインライン展開
多くの場合、プロトタイプ宣言をヘッダーファイルに書いて、その関数本体はソースファイルに記述しました。関数本体がとても小さい場合、ヘッダーに関数定義を書くことができれば、コンパイラーはその関数本体を呼び出し元に**インライン展開**して、より深い最適化を行うことができます。

普通は関数呼び出しを行い、その結果を受け取って••• となるはずですが、関数本体がとても小さい場合、関数の処理よりも関数呼び出しの方がコストとなってしまい、パフォーマンスを損なう原因となります。
そう言った場合には関数の処理と同じことを呼び出す箇所でやってしまい関数呼び出し自体を省略することで、余計なコストを払う必要がなくなります。
これがインライン展開です。

## 4.6.2　　インライン指定
そう言った場合にインライン関数を使うと問題を解決できます。関数をインライン関数とするのはとても簡単で、関数宣言時にinlineというキーワードを付け加える（インライン指定）だけです。

```C++
inline int zero(); // インライン関数であることを宣言

// あらかじめインライン関数であることを宣言しているのでinline指定は不要
int zero() {
  return 0; // 関数自体はとても簡素なもの
}

inline int one() { // 関数定義とインライン指定は同時に行ってもOK
  return 1;
}
```

## 4.6.3 自動インライン化
クラスの定義時にメンバー関数の宣言だけではなく、同時に定義も行うことができる