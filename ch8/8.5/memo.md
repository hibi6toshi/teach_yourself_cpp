# 8.5 ファイル入出力の基本
標準入出力ストリームと同じような方法で、ファイルの入手力を行えます。
どのファイルで入出力するかはプログラムが始まらないとわからないので、標準入出力ストリームのようにあらかじめオブジェクトが用意されているわけではありません。

そのため、ユーザーが**ファイルストリームオブジェクト**を作成し、対象となるファイルを指定して開く操作が必要になります。
またファイル入出力の操作が終わったら閉じる操作も必要ですが、クローズはデストラクターに任せることも可能です。

## 8.5.1 ファイルストリーム
ファイルストリームはstd::basic_iostream テンプレートクラスなどからさらに派生したstd::basic_fstreamテンプレートクラスを使います。

標準入出力オブジェクトでは入出力両方というものはありませんでしたが、ファイル入出力では1つのファイルで入力と出力を行う場合があり、そういった際に使うことができるクラスも用意されています。
またstd::fstreamはstd::ifstreamからもstd::ofstreamからも派生しているので、それらの代わりに関数に渡すことも可能です。

ファイルを開くにはコンストラクターにファイル名を渡すか、デフォルトコンストラクターでオブジェクトを作成した後、open()メンバー関数を使います。
ファイルを閉じるにはファイルストリームオブジェクトのデストラクターを使うか、close()メンバー関数を使います。

```C++
// コンストラクターとopen()メンバー関数・close()メンバー関数
fstream(const std::string& filename, std::ios::openmode mode = default-openmode);

void open(const std::string& filename, std::ios::openmode mode = default-openmode);


void close();
```

modeのデフォルト引数はストリームによって異なる。

標準ライブラリの入出力では実際に入出力されるデバイスは抽象化されており、一貫したインターフェースが提供されているので、実際に使用する際にはどんなデバイスに接続されているかを気にする必要はありません。
