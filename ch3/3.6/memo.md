# オブジェクトポインター
## アロー演算子
ポインターを経由してメンバーにアクセスする際にも、構造体同様にアロー演算子(->)を利用します。

## thisポインター
メンバー関数はクラス内の他のメンバーを直接参照できますが、たまたま仮引数の名前もメンバーと同じ名前になってしまうことがあります。そういった場合、そのメンバー関数の中でその名前は、メンバーのことではなく仮引数のことを表すことになっています。
メンバー関数の中で仮引数やメンバーの名前を変えることなくメンバーにアクセスするためには、特殊な変数である、**thisポインター**が利用できます。thisポインターには、そのメンバー関数呼び出しに使われたオブジェクトを指し示すポインターが格納されています。そのため、thisポインターを経由することで、曖昧になることなくメンバーにアクセスすることができます。

## thisポインターは変更不可避
thisポインター自体の値は変更できません。thisポインターは、コンパイラーにより自動的に使えるように用意されているポインターであり、プログラマーが宣言することはできません。
```C++
class A {
  public:
   void func();
};

void A::func(){
  int this; // エラー。thisはメンバー関数の中では宣言できない。
  this = nullptr; // エラー。thisの値は変更不可
}
```

## constメンバー関数とthisポインター
const メンバー関数のなかでは、thisポインターはconstポインターとなります。仮にconstではないインスタンスを使ってconstメンバー関数を呼び出しても、この動作は変わることがありません。そのためconstメンバー関数の中では非constメンバー関数を呼び出すことも、メンバー変数に変更を加えることもできません。

## クラス、構造体、共用体の関係性
クラスと構造体は本質的には同じもの。しかし、「デフォルトのアクセス指定子」だけは異なっています。メンバーに対するデフォルトのアクセス指定（何も指定しない場合の規定のアクセス指定）が、クラスではprivateなのに対して構造体ではpublicです。また、基底クラス（構造体）から派生するときに指定するアクセス指定も同様にクラスがprivateで構造体がpublicです。

「単にデータをまとめる」ためには構造体を使い、オブジェクトとして使いたいものにはクラスを使うことが多いです。

## 共用体とクラスの違い
共用体はメンバー変数が全て同じメモリーアドレス上に置かれる点がクラスや構造体と異なります。共用体のメンバー変数は全て同じメモリ上アドレス上に配置されるので、値として正しいものになるのはメンバー変数のうちのどれか1つのみです。
また、共用体を基底として派生クラス/構造体/共用体を作ることや、クラス/構造体/共用体から派生して共用体を作ることはできません。他に、仮想関数を定義できないといった制限もあります。
