# 6.11 変換関数の作成方法

## 6.11.1 変換関数とは
**変換関数**とはオブジェクトを他の方のオブジェクトにキャストなどで変換できるようにするために使われます。
コンストラクターと同じく、意図しない変換が知らないうちに行われてしまうことがあるため、変換関数の使用は必要最低限にする必要があります。

```C++
class class-name {
  public: 
    operator return_type(); // 変換関数（戻り値の方を書く場所に注意）
    operator return_type() const; // オブジェクトがconstなときに呼ばれる
};

class-name::operator return-type() {
  ...
}

class-name::operator return-type() {
  ...
}
```

**変換関数の使用例**
よくある使用方法として、「そのオブジェクトが有効か無効化をbool型で返す」変換関数が挙げられます。
このような変換関数を定義することで、if文などの条件文が書きやすくなることがあります。

変換関数では暗黙的に型変換が行われてしまうことがあります。この暗黙的変換には十分注意する必要があります。
変換関数もコンストラクターと同じくexplicit指定を行うことができ、暗黙的な変換を防ぐことができます。

## 6.11.2 explicit で暗黙的型変換を防ぐ
何も指定していない変換関数は暗黙の型変換が働いてしまい、意図しない変換が行われてしまう恐れがあります。
そこで、変換関数でもコンストラクターと同じくexplicit指定することでこれを回避できます。

## 6.11.3 変換関数の注意点
変換関数とは、あくまで必要に応じてオブジェクトを変換する機能を提供するものであって、オブジェクトそのものが他の型になってしまうわけではありません。
そのため、オブジェクトを返す変換関数があっても、そのオブジェクトのメンバー関数を呼ぶことはできません。
